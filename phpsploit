#!/usr/bin/env python3
# -*- coding: utf-8 -*-

## Make sure the script is not imported
try: from __main__ import __file__
except: exit('PhpSploit must be run with the provided script')

## Spread PhpSploit libraries
import lib

## Enable stdout wrapper
import sys, ui.output
#sys.stdout = ui.output.Wrapper(backlog=True)
sys.stdout = ui.output.Wrapper()


import shnake
cmdrun = shnake.Parser()

if len(sys.argv) > 1:
    file = open('/tmp/parse.test')
else:
    file = None

result = cmdrun(file)


### Start shell interface
#import ui.interface
#interface = ui.interface.Cmd()
#interface.interpret("foo\\\nbar")
#
#interface.cmdloop()
